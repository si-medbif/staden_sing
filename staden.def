Bootstrap: docker
From: ubuntu:18.04

%help
  Singularity container for Staden package
    
%labels
  MAINTAINER adison.kho@gmail.com; dumrong.mai@biotec.or.th
  CONTAINER_VERSION v0.1
  STADEN_PACKAGE_VERSION v1.14.11
  ORIGINAL_SOURCE https://github.com/jkbonfield/io_lib/releases/download/io_lib-1-14-11/io_lib-1.14.11.tar.gz

%environment
  export PATH=/opt/qprot_v1.3.5/bin/:$PATH

%files
  #Download file from sourceforge and put into the same directory as the definition file (.def)
  qprot_v1.3.5.zip /opt
   
%post
  apt-get update && apt-get upgrade && apt-get install -y --no-install-recommends \
        build-essential unzip gsl-bin libgsl0-dev 
  cd /opt
  unzip qprot_v1.3.5.zip
  cd qprot_v1.3.5
  make all
  apt-get remove -y unzip
  rm -rf /var/lib/apt/lists/*
